<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:aplos="http://www.aplossystems.co.uk/aplosComponents"
	xmlns:p="http://primefaces.org/ui">
		<h:outputScript library="jsLibraries" name="/CodeMirror-2.22/lib/codemirror.js" target="head" />
		<h:outputStylesheet library="jsLibraries" name="CodeMirror-2.22/lib/codemirror.css" target="head" />
		<h:outputScript library="jsLibraries" name="CodeMirror-2.22/mode/css/css.js" target="head" />
		<script type="text/javascript">
			var css_editor_#{snippet.id};
			
			var initialiseCodeMirror = function() {
				css_editor_#{snippet.id} = CodeMirror.fromTextArea(
						document.getElementById( 'snippet_editor#{snippet.id}' ),
						{
							lineNumbers : true
						});
			} 
				
			initStartFArray.push(initialiseCodeMirror);

			var saveFunction = function() {
				css_editor_#{snippet.id}.toTextArea(); 
			};

			additionalSaveFArray.push(saveFunction);

		</script>
		<h:inputTextarea style="width: 890px; height: 450px; min-height: 100px; margin:auto;" id="snippet_editor#{snippet.id}" value="#{codeSnippetBeDmb.getSnippetById(snippet.id).content}" />
		<br /><br />
		<table class="aplos-form-table">
			<tr>
				<td class="aplos-label">Name</td>
				<td class="aplos-field"><h:inputText value="#{codeSnippetBeDmb.getSnippetById(snippet.id).name}" /></td>
			</tr>
			<tr>
				<td class="aplos-label">XML Namespaces</td>
				<td class="aplos-field"><h:inputText value="#{codeSnippetBeDmb.getSnippetById(snippet.id).xmlNamespaceStr}" style="width:450px" /></td>
			</tr>
		</table>



</ui:composition>
